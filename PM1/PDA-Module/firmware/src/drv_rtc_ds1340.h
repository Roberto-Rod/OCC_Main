/* ************************************************************************** */
/** Descriptive File Name

  @Company
    Occuity Limited

  @File Name
    drv_rtc_ds1340.h

  @Summary
    DS1340 RTC chip driver header file.

  @Description
    DS1340 Real Time Clock chip driver header file.
 */
/* ************************************************************************** */

#ifndef _DRV_RTC_DS1340_H    /* Guard against multiple inclusion */
#define _DRV_RTC_DS1340_H


/* ************************************************************************** */
/* ************************************************************************** */
/* Section: Included Files                                                    */
/* ************************************************************************** */
/* ************************************************************************** */

#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>

#include "driver/i2c/drv_i2c.h"

/* Provide C++ Compatibility */
#ifdef __cplusplus
extern "C" {
#endif


/* ************************************************************************** */
/* ************************************************************************** */
/* Section: Constants                                                         */
/* ************************************************************************** */
/* ************************************************************************** */



// *****************************************************************************
// *****************************************************************************
// Section: Data Types
// *****************************************************************************
// *****************************************************************************

typedef struct
{
    uint16_t year;
    uint8_t month;
    uint8_t date;
    uint8_t day;
    uint8_t hour;
    uint8_t minute;
    uint8_t second;
} DS1340Time;


// *****************************************************************************
// *****************************************************************************
// Section: Interface Functions
// *****************************************************************************
// *****************************************************************************

void drv_rtc_ds1340_controller_task(void);
void set_ds1340_time(DS1340Time *time);
void get_ds1340_time(void (*time_received)(DS1340Time *time));

/* Provide C++ Compatibility */
#ifdef __cplusplus
}
#endif

#endif /* _DRV_RTC_DS1340_H */
